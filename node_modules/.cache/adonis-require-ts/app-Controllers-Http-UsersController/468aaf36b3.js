"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const User_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/User"));
class UsersController {
    async create({ request }) {
        const { username, name } = request.only(['name', 'username']);
        const user = await User_1.default.create({
            username,
            name,
        });
        return user;
    }
    async index({ request, response }) {
        const page = request.input('page', 1);
        const perPage = request.input('per_page', 5);
        const users = await User_1.default.query().paginate(page, perPage);
        return response.json(users);
    }
}
exports.default = UsersController;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXNlcnNDb250cm9sbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiVXNlcnNDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ0EsaUZBQWtDO0FBRWxDLE1BQXFCLGVBQWU7SUFDM0IsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLE9BQU8sRUFBdUI7UUFDbEQsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUE7UUFHN0QsTUFBTSxJQUFJLEdBQUcsTUFBTSxjQUFJLENBQUMsTUFBTSxDQUFDO1lBQzdCLFFBQVE7WUFDUixJQUFJO1NBQ0wsQ0FBQyxDQUFBO1FBQ0YsT0FBTyxJQUFJLENBQUE7SUFDYixDQUFDO0lBRU0sS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQXVCO1FBQzNELE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFBO1FBQ3JDLE1BQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxDQUFBO1FBRTVDLE1BQU0sS0FBSyxHQUFHLE1BQU0sY0FBSSxDQUFDLEtBQUssRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUE7UUFFeEQsT0FBTyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFBO0lBSTdCLENBQUM7Q0FDRjtBQXZCRCxrQ0F1QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwQ29udGV4dENvbnRyYWN0IH0gZnJvbSAnQGlvYzpBZG9uaXMvQ29yZS9IdHRwQ29udGV4dCdcbmltcG9ydCBVc2VyIGZyb20gJ0FwcC9Nb2RlbHMvVXNlcidcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlcnNDb250cm9sbGVyIHtcbiAgcHVibGljIGFzeW5jIGNyZWF0ZSh7IHJlcXVlc3QgfTogSHR0cENvbnRleHRDb250cmFjdCkge1xuICAgIGNvbnN0IHsgdXNlcm5hbWUsIG5hbWUgfSA9IHJlcXVlc3Qub25seShbJ25hbWUnLCAndXNlcm5hbWUnXSlcbiAgICAvL2NvbnNvbGUubG9nKHVzZXJuYW1lLCBuYW1lKVxuXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuY3JlYXRlKHtcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgbmFtZSxcbiAgICB9KVxuICAgIHJldHVybiB1c2VyXG4gIH1cblxuICBwdWJsaWMgYXN5bmMgaW5kZXgoeyByZXF1ZXN0LCByZXNwb25zZSB9OiBIdHRwQ29udGV4dENvbnRyYWN0KSB7XG4gICAgY29uc3QgcGFnZSA9IHJlcXVlc3QuaW5wdXQoJ3BhZ2UnLCAxKVxuICAgIGNvbnN0IHBlclBhZ2UgPSByZXF1ZXN0LmlucHV0KCdwZXJfcGFnZScsIDUpXG5cbiAgICBjb25zdCB1c2VycyA9IGF3YWl0IFVzZXIucXVlcnkoKS5wYWdpbmF0ZShwYWdlLCBwZXJQYWdlKVxuXG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24odXNlcnMpXG5cbiAgICAvL2NvbnN0IGFsbCA9IGF3YWl0IFVzZXIuYWxsKClcbiAgICAvL3JldHVybiBhbGxcbiAgfVxufVxuIl19